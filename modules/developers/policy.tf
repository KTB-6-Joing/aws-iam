resource "aws_iam_group_policy" "dev_group_policy" {
  name  = var.group_policy_name
  group = aws_iam_group.dev.id

  policy = <<EOF
{
	"Version": "2012-10-17",
	"Statement": [
		{
			"Sid": "VisualEditor0",
			"Effect": "Allow",
			"Action": [
				"aws-portal:*",
				"tag:*",
				"billing:*",
				"account:ListRegions",
				"account:GetAccountInformation",
				"account:GetAlternateContact",
				"account:GetChallengeQuestions",
				"account:GetContactInformation",
				"account:GetPrimaryEmail",
				"account:GetRegionOptStatus",
				"activate:GetAccountContact",
				"activate:GetContentInfo",
				"activate:GetCosts",
				"activate:GetCredits",
				"activate:GetMemberInfo",
				"activate:GetProgram",
				"resource-explorer:*",
				"resource-explorer-2:*",
				"rbin:*",
				"rds:DescribeAccountAttributes",
				"rds:DescribeBlueGreenDeployments",
				"rds:DescribeCertificates",
				"rds:DescribeDBClusterAutomatedBackups",
				"rds:DescribeDBClusterBacktracks",
				"rds:DescribeDBClusterEndpoints",
				"rds:DescribeDBClusterParameterGroups",
				"rds:DescribeDBClusterParameters",
				"rds:DescribeDBClusters",
				"rds:DescribeDBClusterSnapshotAttributes",
				"rds:DescribeDBClusterSnapshots",
				"rds:DescribeDBEngineVersions",
				"rds:DescribeDBInstanceAutomatedBackups",
				"rds:DescribeDBInstances",
				"rds:DescribeDBLogFiles",
				"rds:DescribeDBParameterGroups",
				"rds:DescribeDBParameters",
				"rds:DescribeDBProxies",
				"rds:DescribeDBProxyEndpoints",
				"rds:DescribeDBProxyTargetGroups",
				"rds:DescribeDBProxyTargets",
				"rds:DescribeDBRecommendations",
				"rds:DescribeDBSecurityGroups",
				"rds:DescribeDBShardGroups",
				"rds:DescribeDBSnapshotAttributes",
				"rds:DescribeDBSnapshots",
				"rds:DescribeDBSnapshotTenantDatabases",
				"rds:DescribeDBSubnetGroups",
				"rds:DescribeEngineDefaultClusterParameters",
				"rds:DescribeEngineDefaultParameters",
				"rds:DescribeEventCategories",
				"rds:DescribeEvents",
				"rds:DescribeEventSubscriptions",
				"rds:DescribeExportTasks",
				"rds:DescribeGlobalClusters",
				"rds:DescribeIntegrations",
				"rds:DescribeOptionGroupOptions",
				"rds:DescribeOptionGroups",
				"rds:DescribeOrderableDBInstanceOptions",
				"rds:DescribePendingMaintenanceActions",
				"rds:DescribeReservedDBInstances",
				"rds:DescribeReservedDBInstancesOfferings",
				"rds:DescribeSourceRegions",
				"rds:DescribeTenantDatabases",
				"rds:DescribeValidDBInstanceModifications",
				"rds:DescribeRecommendationGroups",
				"rds:DescribeRecommendations",
				"rds:DownloadCompleteDBLogFile",
				"rds:DownloadDBLogFilePortion",
				"rds:ListTagsForResource",
				"rds:CopyCustomDBEngineVersion",
				"rds:CopyDBClusterParameterGroup",
				"rds:CopyDBClusterSnapshot",
				"rds:CopyDBParameterGroup",
				"rds:CopyDBSnapshot",
				"rds:CopyOptionGroup",
				"rds:CreateDBSecurityGroup",
				"rds:CreateDBShardGroup",
				"rds:CreateDBSnapshot",
				"rds:CreateOptionGroup",
				"rds:ModifyDBParameterGroup",
				"rds:ModifyDBSnapshot",
				"rds:ModifyDBSnapshotAttribute",
				"rds:RebootDBInstance",
				"rds:RebootDBCluster",
				"rds:RebootDBShardGroup",
				"rds:StartDBCluster",
				"rds:StartDBInstance",
				"rds:StartDBInstanceAutomatedBackupsReplication",
				"rds:StartActivityStream",
				"rds:AddTagsToResource",
				"rds:RemoveTagsFromResource",
				"rds-db:connect",
				"billingconductor:*",
				"cloudwatch:*",
				"applicationinsights:*",
				"logs:*",
				"ce:*",
				"cur:*",
				"ec2:DescribeAccountAttributes",
				"ec2:DescribeAddresses",
				"ec2:DescribeAddressesAttribute",
				"ec2:DescribeAvailabilityZones",
				"ec2:DescribeClientVpnEndpoints",
				"ec2:DescribeClientVpnConnections",
				"ec2:DescribeClientVpnRoutes",
				"ec2:DescribeClientVpnAuthorizationRules",
				"ec2:DescribeClassicLinkInstances",
				"ec2:DescribeDhcpOptions",
				"ec2:DescribeImages",
				"ec2:DescribeImageAttribute",
				"ec2:DescribeImportSnapshotTasks",
				"ec2:DescribeInstanceAttribute",
				"ec2:DescribeInstanceConnectEndpoints",
				"ec2:DescribeInstances",
				"ec2:DescribeInstanceStatus",
				"ec2:DescribeInstanceTypes",
				"ec2:DescribeInstanceTypeOfferings",
				"ec2:DescribeInstanceTopology",
				"ec2:DescribeInternetGateways",
				"ec2:DescribeKeyPairs",
				"ec2:DescribeNetworkInterfaces",
				"ec2:DescribeNetworkInterfaceAttribute",
				"ec2:DescribeNetworkInterfacePermissions",
				"ec2:DescribeRegions",
				"ec2:DescribePublicIpv4Pools",
				"ec2:DescribeRouteTables",
				"ec2:DescribeSecurityGroupReferences",
				"ec2:DescribeSecurityGroupRules",
				"ec2:DescribeSecurityGroups",
				"ec2:DescribeSnapshotAttribute",
				"ec2:DescribeSnapshots",
				"ec2:DescribeSnapshotTierStatus",
				"ec2:DescribeSpotDatafeedSubscription",
				"ec2:DescribeSubnets",
				"ec2:DescribeTags",
				"ec2:DescribeVolumes",
				"ec2:DescribeVolumeAttribute",
				"ec2:DescribeVolumesModifications",
				"ec2:DescribeVolumeStatus",
				"ec2:DescribeVpcAttribute",
				"ec2:DescribeVpcEndpointConnections",
				"ec2:DescribeVpcEndpointServices",
				"ec2:DescribeVpcPeeringConnections",
				"ec2:DescribeVpcs",
				"ec2:DescribeVpnConnections",
				"ec2:DescribeVpnGateways",
				"ec2:ListImagesInRecycleBin",
				"ec2:ListSnapshotsInRecycleBin",
				"ec2:GetSecurityGroupsForVpc",
				"ec2:CreateSecurityGroup",
				"ec2:ModifySecurityGroupRules",
				"ec2:RevokeSecurityGroupEgress",
				"ec2:RevokeSecurityGroupIngress",
				"ec2:ApplySecurityGroupsToClientVpnTargetNetwork",
				"ec2:UpdateSecurityGroupRuleDescriptionsEgress",
				"ec2:UpdateSecurityGroupRuleDescriptionsIngress",
				"ec2-instance-connect:*",
				"cost-optimization-hub:*",
				"ssm:*",
				"kms:ListAliases",
				"kms:ListGrants",
				"kms:ListKeyPolicies",
				"kms:ListKeyRotations",
				"kms:ListKeys",
				"kms:ListResourceTags",
				"kms:ListRetirableGrants",
				"kms:DescribeCustomKeyStores",
				"kms:DescribeKey",
				"kms:GetKeyPolicy",
				"kms:GetKeyRotationStatus",
				"kms:GetParametersForImport",
				"kms:GetPublicKey",
				"kms:Decrypt",
				"kms:ConnectCustomKeyStore"
			],
			"Resource": "*"
		}
	]
}
EOF
}
